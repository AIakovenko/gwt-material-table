function TableSubHeaders(e,t){TableSubHeaders.id++;var i=this,o=$(i);i.name="subheaders"+TableSubHeaders.id,i.$window=$(window),i.$document=$(document),i.$tableBody=e.find("tbody"),i.$tableParents=e.parents(),i.$stickies=null,i.options=[],i.cache=[],i.loaded=!1,i.scrollBarWidth=13,i.debug={enabled:!1,smartScroll:{table:0,window:0,outer:0},touchmove:{table:0,window:0,outer:0},resize:{table:0,window:0}};var l={marginTop:0,marginLeft:0,scrollThrottle:10,resizeThrottle:100};i.load=function(e){i.options=$.extend({},l,e),i.scrollBarWidth=$.scrollBarWidth(),i.bind(),i.detect(),i.recalculate(!0),i.loaded=!0},i.unload=function(){i.options=[],i.unbind(),i.$stickies.each(function(){var t=$(this);t.removeClass("fixed").removeClass("passed").removeAttr("style"),t.unwrap(),e.scrollTop(0)}),i.loaded=!1},i.reload=function(){i.unload(),i.load()},i.detect=function(){i.$stickies=$(t,e),i.$stickies.off("."+i.name),i.$stickies.on("tap."+i.name+" click."+i.name,function(){i.toggle($(this))});var o=$(t,e).filter(function(){return $(this).parent().is(":not(div)")});o.each(function(){$(this).wrap("<div style='width:100%;z-index:2;cursor:pointer;background-color:#fff;'/>")})},i.bind=function(){i.unbind();var t=i.options.scrollThrottle,o=i.options.resizeThrottle;e.smartScroll(i.name,$.throttle(t,function(e,t){i.debug.enabled&&i.debug.smartScroll.table++,i.scroll(e,t)})),e.on("resize."+i.name,$.debounce(o,function(){i.debug.enabled&&i.resize.table++,i.recalculate(!0)})),i.$window.smartScroll(i.name,$.throttle(t,function(e,t){i.debug.enabled&&i.debug.smartScroll.window++,i.alignment(e,t)})),i.$window.on("resize."+i.name,$.debounce(o,function(){i.debug.enabled&&i.debug.resize.window++,i.recalculate(!0)})),i.detectOuterScrolls()},i.unbind=function(){e.off("."+i.name),i.$window.off("."+i.name),i.$stickies&&i.$stickies.off("."+i.name),i.$tableParents.each(function(){$(this).off("."+i.name)})},i.detectOuterScrolls=function(){var e=i.options.scrollThrottle;i.$tableParents.off("."+i.name),i.$tableParents.filter(function(){return $(this).hasScrollBar()}).smartScroll(i.name,$.throttle(e,function(e,t){i.debug.enabled&&i.debug.smartScroll.outer++,i.alignment(e,t)}))},i.toggle=function(e){e.hasClass("expanded")?i.close(e):i.open(e)},i.open=function(e){e.addClass("expanded"),o.trigger("opening",[e]);var t=e.find("i");if(null!==t){var l=e.attr("data-close-icon");void 0===l&&(l="remove"),t.text(l)}var n=e.parent(),r=n.nextUntil("div","tr");$.when(r.show(200)).then(function(){i.recalculate(!0),e.trigger("opened",[e])})},i.close=function(e){e.removeClass("expanded"),o.trigger("closing",[e]);var t=e.find("i");if(null!==t){var l=e.attr("data-open-icon");void 0===l&&(l="add"),t.text(l)}var n=e.parent().nextUntil("div");$.when(n.hide(200)).then(function(){i.recalculate(!0),e.trigger("closed",[e])})},i.recalculate=function(t){t&&o.trigger("before-recalculate"),i.detectOuterScrolls(),i.updateHeights();var l=e.scrollTop(),n=i.getOuterScrollTop(),r=i.$tableBody.outerWidth();i.$stickies.each(function(){var e=$(this);e.removeClass("fixed").removeClass("passed").removeAttr("style"),$.data(this,"pos",e.offset().top+n+l+1),i.updateWidth(e,r-2)}),t&&o.trigger("after-recalculate"),i.scroll()},i.scroll=function(t,o){var l=e.offset(),n=e.innerWidth(),r=i.$tableBody.outerWidth(),a=l.top+i.options.marginTop,s=e.scrollTop()+i.getOuterScrollTop(),d=i.$window.scrollTop(),c=l.left+i.options.marginLeft,f=e.scrollLeft(),u=i.getOuterScrollLeft();i.$stickies.each(function(e){var t=$(this),l=!1;if(!o||o.isY()){var p=i.$stickies.eq(e+1),h=i.$stickies.eq(e-1),g=$.data(this,"pos");if(s+a>=g)i.emulateYScroll(t,a,d,s),t.hasClass("passed")||(t.hasClass("fixed")||(t.addClass("fixed"),l=o&&!o.isX()),i.updateWidth(t,r),h.css("display","none"),t.css({display:""}),p.length>0&&s+a>=g-h.outerHeight()&&t.addClass("passed"));else{t.outerWidth();t.removeClass("fixed").removeAttr("style"),h.css({display:""}),h.length>0&&s+a<=g-h.outerHeight()&&h.removeClass("passed")}}(!o||o.isX()||l)&&t.hasClass("fixed")&&i.emulateXScroll(t,n,c,f,u)}),i.$stickies.filter(".passed").each(function(e){var t=$(this),o=i.$stickies.eq(e+1),l=$.data(o[0],"pos")-s-t.outerHeight()-d;t.data("push-back",parseInt(t.css("top").replace("px","")-l)),t.css({top:l})})},i.emulateYScroll=function(e,t,o,l,n){var r=e.outerHeight()+50,a=(n?n:i.getOuterScrollTop())-i.options.marginTop,s=a+"px",d=r+"px",c=e.data("clip-right"),f=e.data("clip-left");if(e.hasClass("passed")){var u=e.data("push-back");s=a+u+"px"}e.data("clip-top",s).data("clip-bottom",d),e.css({top:t-o,clip:"rect("+s+", "+c+", "+d+", "+f+")"})},i.emulateXScroll=function(e,t,o,l,n){var r=l+(n?n:i.getOuterScrollLeft())+"px",a=t+l-i.scrollBarWidth+"px",s=e.data("clip-top")||"auto",d=e.data("clip-bottom")||"auto";e.data("clip-left",r).data("clip-right",a),e.css({left:o-l-i.$window.scrollLeft(),clip:"rect("+s+", "+a+", "+d+", "+r+")"})},i.alignment=function(t,o){var l=e.offset(),n=e.innerWidth(),r=i.$tableBody.outerWidth(),a=!o||o.isX(),s=!o||o.isY(),d=s?i.$window.scrollTop():0,c=s?l.top+i.options.marginTop:0,f=s?e.scrollTop()+i.getOuterScrollTop():0,u=a?l.left+i.options.marginLeft:0,p=a?e.scrollLeft():0,h=a?i.getOuterScrollLeft():0;i.$stickies.filter(".fixed").each(function(e){var t=$(this);if(!o||o.isY()){var l=c;if(t.hasClass("passed")){var s=i.$stickies.eq(e+1);l=$.data(s[0],"pos")-f-t.outerHeight()}i.emulateYScroll(t,l,d,f),i.updateWidth(t,r)}a&&i.emulateXScroll(t,n,u,p,h)})},i.getOuterScrollTop=function(){var e=0;return i.$tableParents.filter(":not(body,html)").each(function(){e+=$(this).scrollTop()}),e},i.getOuterScrollLeft=function(){var e=0;return i.$tableParents.filter(":not(body,html)").each(function(){e+=$(this).scrollLeft()}),e},i.updateCellWidths=function(t){var o=i.getCellWidths($("th,td",$("thead",e)));i.setCellWidths(o,t)},i.setCellWidths=function(e,t){t.find("th,td").each(function(t){var i=$(this),o=e[t];i.css({"min-width":o,"max-width":o})})},i.getCellWidths=function(e){var t=[];return e.each(function(e){var o,l=$(this);if("border-box"===l.css("box-sizing"))o=this.getBoundingClientRect().width;else{var n=$("th",i.$originalHeader);if("collapse"===n.css("border-collapse"))if(window.getComputedStyle)o=parseFloat(window.getComputedStyle(this,null).width);else{var r=parseFloat(l.css("padding-left")),a=parseFloat(l.css("padding-right")),s=parseFloat(l.css("border-width"));o=l.outerWidth()-r-a-s}else o=l.width()}t[e]=o}),t},i.updateWidth=function(e){i.updateCellWidths(e)},i.updateWidths=function(){},i.updateHeights=function(){i.$stickies.each(function(){var e=$(this);e.parent().height(e.outerHeight())})},i.setMarginTop=function(e){i.options.marginTop=e},i.setMarginLeft=function(e){i.options.marginLeft=e},i.isLoaded=function(){return i.loaded},i.getDebugInfo=function(){return i.debug}}TableSubHeaders.id=0,TableSubHeaders.newInstance=function(e,t){return new TableSubHeaders(e,t)};
